{% extends "base.html" %}
{% block content %}
<h1 class="text-3xl font-montserrat">Gerenciamento de Contas</h1>

<form method="get" action="/contas">
  <div class="input-group mb-5">
    <input type="text" class="form-control" name="busca_conta" placeholder="Buscar por Código de Conta">
    <button class="btn btn-outline-primary" type="submit">Buscar</button>
  </div>
</form>

<table class="table table-hover">
  <thead>
    <tr>
      <th>ID Conta</th>
      <th>Tipo de Conta</th>
      <th>CPF/CNPJ</th>
      <th>Pessoa</th>
      <th>Saldo Atual</th>
      <th>Renda Mensal</th>
      <th>Perf. Crédito</th>
      <th>Status da Conta</th>
    </tr>
  </thead>
  <tbody>
    {% for conta in contas %}
    <tr>
      <td>{{ conta.idConta }}</td>
      <td>{{conta.tipoConta }}</td>
      <td>{{ conta.codigoPessoa }}</td>
      <td>{{ conta.tipoPessoa }}</td>
      <td>R$ {{ "%.2f"|format(conta.saldo) }}</td>
      <td>R$ {{ "%.2f"|format(conta.renda) }}</td>
      <td>{{ conta.perfilCredito }}</td>
      <td>{{ "Ativa" if conta.ativo == 'S' else "Inativa" }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<div class="d-flex justify-content-center">
  <a class="btn btn-primary" href="/contas?page={{ page + 1 }}">Mostrar Mais</a>
</div>
{% endblock %}
